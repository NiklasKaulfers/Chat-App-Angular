<div class="chat-content">
  <div class="messages-container" #chatBox>
    <div *ngFor="let msg of messages"
         class="chat-message"
         [ngClass]="{'sender-message': msg.sender === user, 'received-message': msg.sender !== user, 'system-message': msg.sender === 'Server'}">
      <div class="message-header">
        <strong>{{ msg.sender }}</strong>
        <small *ngIf="msg.timestamp" class="message-time">{{ msg.timestamp | date:'shortTime' }}</small>
      </div>
      <div class="message-content">{{ msg.message }}</div>
    </div>
  </div>

  <div class="typing-indicator" *ngIf="someoneTyping">
    <small>Someone is typing...</small>
  </div>

  <div class="input-area">
    <input type="text"
           class="message-input"
           placeholder="Type a message..."
           [(ngModel)]="userInput"
           (keyup)="onTyping(true)"
           (keyup.enter)="sendMessage()"
           (blur)="onTyping(false)">
    <button class="send-button" (click)="sendMessage()">
      <i class="bi bi-send-fill"></i>
    </button>
  </div>
</div>
